<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trade-king admin</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="topBanner">
        <div id="bannerLeft">TRADE-KING</div>
        <div id="bannerCenter">
            <div id="roomCodeInfoBox" class="infoBox">RM: <span id="bannerRoomCode">-</span></div>
        </div>
        <div id="bannerRight">
            <div id="connectionStatus"></div>
            <button id="adminSidebarToggle" class="team-sidebar-toggle">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                    <circle cx="9" cy="7" r="4" />
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                    <!DOCTYPE html>
                    <html lang="ko">

                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Trade-king admin</title>
                        <link rel="stylesheet" href="styles.css">
                    </head>

                    <body>
                        <div id="topBanner">
                            <div id="bannerLeft">TRADE-KING</div>
                            <div id="bannerCenter">
                                <div id="roomCodeInfoBox" class="infoBox">RM: <span id="bannerRoomCode">-</span></div>
                            </div>
                            <div id="bannerRight">
                                <div id="connectionStatus"></div>
                                <button id="adminSidebarToggle" class="team-sidebar-toggle">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                        <circle cx="9" cy="7" r="4" />
                                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="admin-container">

                            <!-- Î∞© ÏÉùÏÑ± ÏÑπÏÖò -->
                            <div id="roomCreationSection" class="control-panel">
                                <button id="createRoomBtn" class="admin-btn btn-production" style="width: 100%;">
                                    + ÏÉàÎ°úÏö¥ Í≤åÏûÑ Î∞© ÎßåÎì§Í∏∞
                                </button>
                            </div>

                            <!-- Î∞© Ïû¨ÏûÖÏû• ÏÑπÏÖò -->
                            <div id="roomReentrySection" class="control-panel" style="text-align: center;">
                                <h2>Í∏∞Ï°¥ Î∞© Ïû¨ÏûÖÏû•</h2>
                                <p class="info-text" style="text-align: center; margin-bottom: 20px;">Ï†ëÏÜçÏù¥ ÎÅäÍ∏¥ Î∞©Ïóê Îã§Ïãú
                                    Ï†ëÏÜçÌï©ÎãàÎã§.</p>
                                <div class="input-group" style="margin-bottom: 15px;">
                                    <label style="text-align: center;" for="reentryRoomCodeInput">Î∞© ÏΩîÎìú (4ÏûêÎ¶¨)</label>
                                    <input type="text" id="reentryRoomCodeInput" placeholder="Î∞© ÏΩîÎìú ÏûÖÎ†•" maxlength="4"
                                        style="text-align: center; text-transform: uppercase;">
                                </div>
                                <button id="reenterRoomBtn" class="admin-btn btn-secondary" style="width: 100%;">
                                    Ïû¨ÏûÖÏû•
                                </button>
                            </div>

                            <!-- Ïã§ÏãúÍ∞Ñ Îû≠ÌÇπ ÏÑπÏÖò (Ï¥àÍ∏∞ ÌôîÎ©¥Ïóê ÌëúÏãú) -->
                            <div id="rankingsSection" class="control-panel">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                                    <h2 style="margin-bottom: 0; border-bottom: none;">Ïã§ÏãúÍ∞Ñ Îû≠ÌÇπ</h2>
                                    <button class="admin-btn" onclick="socket.emit('get_rankings')"
                                        style="min-width: auto; padding: 0.5rem 1rem; font-size: 0.9rem;">
                                        üîÑ ÏÉàÎ°úÍ≥†Ïπ®
                                    </button>
                                </div>
                                <div id="rankingsContainer" class="rankings-grid">
                                    <div
                                        style="grid-column: 1/-1; text-align: center; padding: 2rem; color: var(--color-text-light);">
                                        Îû≠ÌÇπ Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ëÏûÖÎãàÎã§...
                                    </div>
                                </div>
                            </div>

                            <!-- Î©îÏù∏ ÎåÄÏãúÎ≥¥Îìú (Ï¥àÍ∏∞ÏóêÎäî Ïà®ÍπÄ) -->
                            <div id="mainDashboard" class="hidden">
                                <div class="current-status">
                                    <div class="status-grid">
                                        <div class="status-card">
                                            <div class="status-label">ÎùºÏö¥Îìú</div>
                                            <div class="status-value" id="currentRound">ÎåÄÍ∏∞Ï§ë</div>
                                        </div>
                                        <div class="status-card">
                                            <div class="status-label">ÌÑ¥</div>
                                            <div class="status-value" id="currentPhase">-</div>
                                        </div>
                                        <div class="status-card">
                                            <div class="status-label">ÌÉÄÏù¥Î®∏</div>
                                            <div class="status-value" id="timerDisplay">00:00</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="control-panel">
                                    <div class="control-grid">
                                        <div id="gameStartSection" class="control-section">
                                            <h2>Í≤åÏûÑ ÏãúÏûë</h2>
                                            <div class="button-group">
                                                <button id="startGameBtn" class="admin-btn btn-production"
                                                    onclick="startPhase('production')">
                                                    Í≤åÏûÑ ÏãúÏûë (ÏÉùÏÇ∞)
                                                </button>
                                            </div>
                                        </div>

                                        <div id="tradeControlSection" class="control-section hidden">
                                            <h2>Ï∂úÌï≠ ÏßÑÌñâ</h2>
                                            <div class="button-group">
                                                <button class="admin-btn btn-trade" onclick="startPhase('trade')">Ï∂úÌï≠
                                                    Îã®Í≥Ñ</button>
                                                <button class="admin-btn btn-timer"
                                                    onclick="startPhase('investment')">Ìà¨Ïûê Îã®Í≥Ñ</button>
                                                <button class="admin-btn btn-arrival" onclick="startPhase('arrival')">ÏûÖÌï≠
                                                    Îã®Í≥Ñ</button>
                                            </div>
                                            <div class="button-group" style="margin-top: 20px;">
                                                <button class="admin-btn btn-end" onclick="endGame()">Í≤åÏûÑ Ï¢ÖÎ£å</button>
                                            </div>
                                        </div>

                                        <div class="control-section">
                                            <h2>ÌÉÄÏù¥Î®∏ Ï†úÏñ¥</h2>
                                            <div class="timer-controls">
                                                <input type="number" id="timerMinutes" placeholder="Î∂Ñ" min="0" max="60"
                                                    value="3">
                                                <input type="number" id="timerSeconds" placeholder="Ï¥à" min="0" max="59"
                                                    value="0">
                                                <button class="admin-btn btn-timer" onclick="startTimer()">ÏãúÏûë</button>
                                                <button class="admin-btn btn-end" onclick="stopTimer()">Ï†ïÏßÄ</button>
                                                <button class="admin-btn" onclick="resetTimer()">Î¶¨ÏÖã</button>
                                            </div>
                                        </div>

                                        <div class="control-section">
                                            <h2>Í∏∞ÌÉÄ Í∏∞Îä•</h2>
                                            <div class="button-group">
                                                <button class="admin-btn btn-end" onclick="resetGame()">Í≤åÏûÑ Ï†ÑÏ≤¥
                                                    Î¶¨ÏÖã</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="allTeamsStatusContainer" class="control-panel hidden">
                                    <h2>ÌåÄ ÌòÑÌô©</h2>
                                    <div class="teams-grid-container">
                                        <!-- Team status cards will be dynamically generated here -->
                                    </div>
                                </div>

                                <div id="gameLogContainer" class="control-panel hidden">
                                    <h2>Í≤åÏûÑ Î°úÍ∑∏</h2>
                                    <div class="log-container"></div>
                                </div>
                            </div>

                        </div>

                        <!-- Room Code Modal -->
                        <div id="roomCodeModal" class="hidden">
                            <div class="modal-content-room-code">
                                <div id="modalRoomCodeDisplay" style="text-align: center;">-</div>
                            </div>
                        </div>

                        <!-- Socket.IO ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÎùºÏù¥Î∏åÎü¨Î¶¨ -->
                        <script src="/socket.io/socket.io.js"></script>

                        <!-- Í≥µÌÜµ Ïú†Ìã∏Î¶¨Ìã∞ -->
                        <script src="utils.js"></script>

                        <!-- admin-client.js -->
                        <script src="admin-client.js"></script>

                        <!-- ÏµúÏ¢Ö Í≤∞Í≥º Î™®Îã¨ -->
                        <div id="finalResultsModal" class="modal-overlay hidden"></div>
                    </body>

                    </html>